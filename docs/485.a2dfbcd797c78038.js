"use strict";(self.webpackChunk_2PFGruppo=self.webpackChunk_2PFGruppo||[]).push([[485],{9485:(X,g,r)=>{r.r(g),r.d(g,{CursosModule:()=>O});var d=r(6895),c=r(7155),a=r(4006),l=r(5938),t=r(4650),m=r(9549),Z=r(4144),f=r(4859),C=r(9602),v=r(2468);function F(o,i){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.ALo(2,"controlErrorMessages"),t.qZA()),2&o){const e=i.$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,e))}}let _=(()=>{class o{constructor(e,n){if(this.dialogRef=e,this.data=n,this.nombreControl=new a.NI("",[a.kI.required]),this.fechaInicioControl=new a.NI("",[a.kI.required]),this.fechaFinControl=new a.NI("",[a.kI.required]),this.cursoForm=new a.cw({nombre:this.nombreControl,fecha_inicio:this.fechaInicioControl,fecha_fin:this.fechaFinControl}),n){const s=n.curso;this.nombreControl.setValue(s.nombre),this.fechaInicioControl.setValue(s.fecha_inicio),this.fechaFinControl.setValue(s.fecha_fin)}}guardar(){this.cursoForm.valid?this.dialogRef.close(this.cursoForm.value):this.cursoForm.markAllAsTouched()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(l.so),t.Y36(l.WI))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-abm-cursos"]],decls:36,vars:11,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"grid","formgrid",3,"formGroup"],[1,"col-12","field"],[1,"w-full"],["type","text","matInput","",3,"formControl"],[4,"ngFor","ngForOf"],[1,"col-6"],["matInput","",3,"formControl","matDatepicker"],["matIconSuffix","",3,"for"],["fechaInicioPicker",""],["fechaFinPicker",""],["mat-dialog-actions",""],["mat-button","","mat-dialog-close",""],["mat-button","",3,"click"]],template:function(e,n){if(1&e&&(t.TgZ(0,"h1",0),t._uU(1,"ABM Cursos"),t.qZA(),t.TgZ(2,"div",1)(3,"form",2)(4,"div",3)(5,"mat-form-field",4)(6,"mat-label"),t._uU(7,"Nombre"),t.qZA(),t._UZ(8,"input",5),t.YNc(9,F,3,3,"mat-error",6),t.ALo(10,"keyvalue"),t.qZA()(),t.TgZ(11,"div",7)(12,"mat-form-field",4)(13,"mat-label"),t._uU(14,"Fecha de inicio"),t.qZA(),t._UZ(15,"input",8),t.TgZ(16,"mat-hint"),t._uU(17,"MM/DD/YYYY"),t.qZA(),t._UZ(18,"mat-datepicker-toggle",9)(19,"mat-datepicker",null,10),t.qZA()(),t.TgZ(21,"div",7)(22,"mat-form-field",4)(23,"mat-label"),t._uU(24,"Fecha de fin"),t.qZA(),t._UZ(25,"input",8),t.TgZ(26,"mat-hint"),t._uU(27,"MM/DD/YYYY"),t.qZA(),t._UZ(28,"mat-datepicker-toggle",9)(29,"mat-datepicker",null,11),t.qZA()()()(),t.TgZ(31,"div",12)(32,"button",13),t._uU(33,"Cancelar"),t.qZA(),t.TgZ(34,"button",14),t.NdJ("click",function(){return n.guardar()}),t._uU(35,"Guardar"),t.qZA()()),2&e){const s=t.MAs(20),u=t.MAs(30);t.xp6(3),t.Q6J("formGroup",n.cursoForm),t.xp6(5),t.Q6J("formControl",n.nombreControl),t.xp6(1),t.Q6J("ngForOf",t.lcZ(10,9,n.nombreControl.errors)),t.xp6(6),t.Q6J("formControl",n.fechaInicioControl)("matDatepicker",s),t.xp6(3),t.Q6J("for",s),t.xp6(7),t.Q6J("formControl",n.fechaFinControl)("matDatepicker",u),t.xp6(3),t.Q6J("for",u)}},dependencies:[d.sg,a._Y,a.Fj,a.JJ,a.JL,a.oH,a.sg,m.KE,m.hX,m.bx,m.TO,m.R9,Z.Nt,f.lW,l.ZT,l.uh,l.xY,l.H8,C.Mq,C.hl,C.nW,d.Nd,v.K]}),o})();var T=r(8965),h=r(6582),A=r(7392),x=r(223);function Y(o,i){1&o&&(t.TgZ(0,"th",17),t._uU(1,"Codigo"),t.qZA()),2&o&&t.Q6J("appFontSize",20)}function U(o,i){if(1&o&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.xp6(1),t.hij(" ",e.id," ")}}function b(o,i){1&o&&(t.TgZ(0,"th",17),t._uU(1,"Nombre completo"),t.qZA()),2&o&&t.Q6J("appFontSize",20)}function y(o,i){if(1&o&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.xp6(1),t.hij(" ",e.subject.nombre," ")}}function D(o,i){1&o&&(t.TgZ(0,"th",17),t._uU(1,"Fecha de inicio"),t.qZA()),2&o&&t.Q6J("appFontSize",20)}function N(o,i){if(1&o&&(t.TgZ(0,"td",18),t._uU(1),t.ALo(2,"date"),t.qZA()),2&o){const e=i.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.fecha_inicio,"dd/MM/YYYY")," ")}}function J(o,i){1&o&&(t.TgZ(0,"th",17),t._uU(1,"Fecha de fin"),t.qZA()),2&o&&t.Q6J("appFontSize",20)}function S(o,i){if(1&o&&(t.TgZ(0,"td",18),t._uU(1),t.ALo(2,"date"),t.qZA()),2&o){const e=i.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.fecha_fin,"dd/MM/YYYY")," ")}}function Q(o,i){1&o&&(t.TgZ(0,"th",17),t._uU(1,"Detalle"),t.qZA()),2&o&&t.Q6J("appFontSize",20)}function k(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"td",18)(1,"button",19),t.NdJ("click",function(){const u=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.irAlDetalle(u.id))}),t.TgZ(2,"mat-icon"),t._uU(3,"visibility"),t.qZA()()()}}function q(o,i){1&o&&(t.TgZ(0,"th",17),t._uU(1,"Editar"),t.qZA()),2&o&&t.Q6J("appFontSize",20)}function I(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"td",18)(1,"button",19),t.NdJ("click",function(){const u=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.editarCurso(u))}),t.TgZ(2,"mat-icon"),t._uU(3,"edit"),t.qZA()()()}}function M(o,i){1&o&&(t.TgZ(0,"th",17),t._uU(1,"Eliminar"),t.qZA()),2&o&&t.Q6J("appFontSize",20)}function z(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"td",18)(1,"button",19),t.NdJ("click",function(){const u=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.eliminarCurso(u))}),t.TgZ(2,"mat-icon"),t._uU(3,"close"),t.qZA()()()}}function R(o,i){1&o&&t._UZ(0,"tr",20)}function j(o,i){1&o&&t._UZ(0,"tr",21)}let B=(()=>{class o{constructor(e,n,s,u){this.cursosService=e,this.dialog=n,this.router=s,this.activatedRoute=u,this.dataSource=new c.by,this.displayedColumns=["id","nombre","fecha_inicio","fecha_fin","detalle","editar","eliminar"],this.cursosSuscription=null}ngOnDestroy(){this.cursosSuscription?.unsubscribe()}ngOnInit(){this.cursosService.obtenerCursos().subscribe({next:e=>{this.dataSource.data=e}})}crearCurso(){this.dialog.open(_).afterClosed().subscribe(n=>{n&&this.cursosService.crearCurso(n)})}editarCurso(e){this.dialog.open(_,{data:{curso:e}}).afterClosed().subscribe(s=>{s&&this.cursosService.editarCurso(e.id,s)})}eliminarCurso(e){confirm("Est\xe1 seguro?")&&this.cursosService.eliminarCurso(e.id)}aplicarFiltros(e){const n=e.target?.value;this.dataSource.filter=n?.trim()?.toLowerCase()}irAlDetalle(e){this.router.navigate([e],{relativeTo:this.activatedRoute})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(T.Z),t.Y36(l.uw),t.Y36(h.F0),t.Y36(h.gz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-cursos"]],decls:34,vars:3,consts:[[1,"mb-3"],["color","primary","mat-flat-button","",3,"click"],[1,"col-md-6"],["matInput","","placeholder","Ingrese el dato a filtrar",3,"keyup"],["input",""],["mat-table","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",3,"appFontSize",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nombre"],["matColumnDef","fecha_inicio"],["matColumnDef","fecha_fin"],["matColumnDef","detalle"],["matColumnDef","editar"],["matColumnDef","eliminar"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",3,"appFontSize"],["mat-cell",""],["mat-icon-button","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return n.crearCurso()}),t.TgZ(2,"mat-icon"),t._uU(3,"add"),t.qZA(),t._uU(4," Agregar Curso "),t.qZA()(),t.TgZ(5,"mat-form-field",2)(6,"mat-label"),t._uU(7,"Filtrar por"),t.qZA(),t.TgZ(8,"input",3,4),t.NdJ("keyup",function(u){return n.aplicarFiltros(u)}),t.qZA()(),t.TgZ(10,"table",5),t.ynx(11,6),t.YNc(12,Y,2,1,"th",7),t.YNc(13,U,2,1,"td",8),t.BQk(),t.ynx(14,9),t.YNc(15,b,2,1,"th",7),t.YNc(16,y,2,1,"td",8),t.BQk(),t.ynx(17,10),t.YNc(18,D,2,1,"th",7),t.YNc(19,N,3,4,"td",8),t.BQk(),t.ynx(20,11),t.YNc(21,J,2,1,"th",7),t.YNc(22,S,3,4,"td",8),t.BQk(),t.ynx(23,12),t.YNc(24,Q,2,1,"th",7),t.YNc(25,k,4,0,"td",8),t.BQk(),t.ynx(26,13),t.YNc(27,q,2,1,"th",7),t.YNc(28,I,4,0,"td",8),t.BQk(),t.ynx(29,14),t.YNc(30,M,2,1,"th",7),t.YNc(31,z,4,0,"td",8),t.BQk(),t.YNc(32,R,1,0,"tr",15),t.YNc(33,j,1,0,"tr",16),t.qZA()),2&e&&(t.xp6(10),t.Q6J("dataSource",n.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns))},dependencies:[A.Hw,m.KE,m.hX,Z.Nt,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,f.lW,f.RK,x.h,d.uU]}),o})();var $=r(4586),w=r(3238),E=r(7579),G=r(2722);let H=(()=>{class o{constructor(e,n){this.activatedRoute=e,this.cursosService=n,this.destroyed$=new E.x,this.cursosService.getCursoById(parseInt(this.activatedRoute.snapshot.params.id)).pipe((0,G.R)(this.destroyed$)).subscribe(s=>this.curso=s)}ngOnDestroy(){this.destroyed$.next(!0)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(h.gz),t.Y36(T.Z))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-curso-detalle"]],decls:12,vars:3,template:function(e,n){1&e&&(t.TgZ(0,"h3"),t._uU(1,"Curso:"),t.qZA(),t.TgZ(2,"p"),t._uU(3),t.qZA(),t.TgZ(4,"h3"),t._uU(5,"Fecha de inicio:"),t.qZA(),t.TgZ(6,"p"),t._uU(7),t.qZA(),t.TgZ(8,"h3"),t._uU(9,"Fecha de Fin:"),t.qZA(),t.TgZ(10,"p"),t._uU(11),t.qZA()),2&e&&(t.xp6(3),t.hij(" ",null==n.curso?null:n.curso.id," "),t.xp6(4),t.hij(" ",null==n.curso?null:n.curso.fecha_inicio," "),t.xp6(4),t.hij(" ",null==n.curso?null:n.curso.fecha_fin," "))}}),o})();var K=r(5540);let O=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[d.ez,$.D,a.UX,A.Ps,m.lN,Z.c,c.p0,f.ot,l.Is,C.FA,w.XK,K.o,h.Bz.forChild([{path:"",component:B},{path:":id",component:H}])]}),o})()}}]);